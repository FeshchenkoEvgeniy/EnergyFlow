{"version":3,"file":"index.js","sources":["../src/ts/headerMobileMenu.ts","../src/ts/api.ts","../src/ts/quote.ts","../src/ts/createMarkup.ts","../src/ts/exercises.ts"],"sourcesContent":["import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nconst mobileMenu = document.querySelector('.js-menu-container') as HTMLElement\nconst openMenuBtn = document.querySelector('.js-open-menu') as HTMLButtonElement;\nconst closeMenuBtn = document.querySelector('.js-close-menu') as HTMLButtonElement\n\nfunction toggleMenu() {\nconst isMenuOpen = openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', (!isMenuOpen).toString());\n    mobileMenu.classList.toggle('is-open');\n\n    const scrollLockMethod = !isMenuOpen ? disableBodyScroll : enableBodyScroll;\n    scrollLockMethod(document.body);\n};\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\n\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', 'false');\n    enableBodyScroll(document.body);\n});","import {IFilter} from './interface'\n\nconst BASE_URL = 'https://energyflow.b.goit.study/api';\n\nasync function fetchQuote() {\n    const response = fetch(`${BASE_URL}/quote`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(`${resp.statusText}`)\n            }\n            return resp.json()\n        })\n        .catch(err => console.log(err))\n    return response\n}\n\nasync function fetchExercises({filterName, currentPage}:IFilter) {\n    const response = fetch(`${BASE_URL}/filters?filter=${filterName}&page=${currentPage}&limit=${12}`)\n        .then(resp => {\n        if (!resp.ok) {\n            throw new Error(`${resp.statusText}`);\n        }\n            return resp.json()\n        })\n        .catch(err => console.log(err))\n    return response\n}\n\nexport {fetchQuote, fetchExercises}","import { fetchQuote } from \"./api\";\n\nconst quoteContainer = document.querySelector('.js-quote-container') as HTMLElement;\n\nconst date = new Date()\nconst formattedDate = date.toLocaleDateString('en-US', {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric'\n});\n\nconst objQuote = JSON.parse(localStorage.getItem('qoute') ?? \"null\")\n\nif (!objQuote || objQuote.formattedDate !== formattedDate) {\n    fetchQuote()\n      .then(data => {\n        localStorage.setItem('qoute', JSON.stringify({ ...data, formattedDate }))\n        quoteContainer.insertAdjacentHTML('beforeend', markup(data))\n      })\n    .catch(err => console.log(err))\n} else {\n  quoteContainer.insertAdjacentHTML('beforeend', markup(objQuote))\n}\n\nfunction markup({quote, author}: Iqoute) {\n  return `<p class='quote__text'>${quote}</p>\n          <p class='quote__author'>${author}</p>`\n}\n\ninterface Iqoute {\n  quote: string,\n  author: string\n}","import { IResultExercises } from './interface'\n\nfunction createMarkupForExercises(results: IResultExercises[]): string {\n    return results.map(({ name, filter, imgUrl }) => {\n        return `\n        <li class='exercises__item' data-filterName='${name}' style='background: linear-gradient(0deg, rgba(16, 16, 16, 0.7) 0%, rgba(16, 16, 16, 0.7) 100%), url(${imgUrl}) lightgray -16.825px 0.844px / 121.36% 108.504% no-repeat;'>\n        <h3 class='exercises__item-title'>${name}</h3>\n        <p class='exercises__item-filter'>${filter}</p>\n        </li>\n        `\n    }).join('')\n}\n\nfunction createMarkupForExercisesPagination(totalPages: number) {\n    let str = ''\n    for (let i = 1; i <= totalPages; i++) {\n        str += `<li data-page='${i}' class='pagination__item'><button class='pagination__btn'>${i}</button></li>`\n    }\n    return str\n}\n\nexport { createMarkupForExercises, createMarkupForExercisesPagination }\n\n    ","import { fetchExercises } from \"./api\";\nimport { createMarkupForExercises, createMarkupForExercisesPagination } from \"./createMarkup\";\nimport { IFilter,} from './interface'\n\nconst filterBtn = document.querySelector('.js-filterBtn') as HTMLElement\nconst exercisesList = document.querySelector('.js-exercises__list') as HTMLElement;\nconst paginationList = document.querySelector('.js-exercises__pagaination') as HTMLElement\nconst buttons = document.querySelectorAll('.filter__btn') as NodeListOf<HTMLButtonElement>;\n\nconst initialFilter: IFilter = {\n    filterName: 'Muscles',\n    currentPage: '1'\n}\n\nlet paginationBtns: NodeListOf<HTMLButtonElement>;\n\n\nfunction onClick(evt: Event) {\n    const target = evt.target as HTMLElement;\n\n    if (!target.classList.contains('filter__btn')) {\n        return\n    }\n\n    const filterName = target.dataset.name || 'Muscles';\n    initialFilter.filterName = filterName\n    initialFilter.currentPage = '1'\n\n    buttons.forEach(btn => btn.classList.remove('filter__btn--active'))\n    target.classList.add('filter__btn--active')\n    \n    renderMarkup()\n}\n\nrenderMarkup()\n\nfunction renderMarkup() {\n    fetchExercises(initialFilter)\n    .then(({totalPages, results}) => {\n        exercisesList.innerHTML = createMarkupForExercises(results)\n\n        if (totalPages <= 1) {\n            paginationList.innerHTML = ''\n            return\n        } else {\n            paginationList.innerHTML = createMarkupForExercisesPagination(totalPages);\n\n            paginationBtns = document.querySelectorAll('.pagination__btn')\n            paginationBtns[Number(initialFilter.currentPage)-1].classList.add('pagination__btn--active')\n        }\n    })\n    .catch(err => console.log(err))    \n}\n\nfunction pagination(evt: Event) {\n    const target = evt.target as HTMLElement;\n\n    const paginationItem = target.closest('.pagination__item') as HTMLElement;\n    \n    if (!paginationItem || target.classList.contains('pagination__list')) {\n        return\n    }\n\n    const page = paginationItem.dataset.page\n\n    if (initialFilter.currentPage !== page?.toString()) {\n        initialFilter.currentPage = page?.toString() || '1';\n        renderMarkup()\n        paginationBtns.forEach(btn => btn.classList.remove('pagination__btn--active'))\n    }\n}\n\nfilterBtn.addEventListener('click', onClick)\npaginationList.addEventListener('click', pagination)\n"],"names":["mobileMenu","openMenuBtn","closeMenuBtn","toggleMenu","isMenuOpen","enableBodyScroll","disableBodyScroll","e","BASE_URL","fetchQuote","resp","err","fetchExercises","filterName","currentPage","quoteContainer","date","formattedDate","objQuote","data","markup","quote","author","createMarkupForExercises","results","name","filter","imgUrl","createMarkupForExercisesPagination","totalPages","str","i","filterBtn","exercisesList","paginationList","buttons","initialFilter","paginationBtns","onClick","evt","target","btn","renderMarkup","pagination","paginationItem","page"],"mappings":"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"}